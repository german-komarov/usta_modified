<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cabin&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Cabin", sans-serif;
      }
    </style>
    <title>USTA.AZ</title>
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="/">USTA.AZ</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarText"
          aria-controls="navbarText"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <!-- <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link active" href="#">Home</a>
            </li>
          </ul> -->

          <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle active"
                href="#"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Kateqoriya
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/?category=santexnik">Santexnik</a>
                <a class="dropdown-item" href="#">Usta2</a>
                <!-- <div class="dropdown-divider"></div> -->
                <a class="dropdown-item" href="#">Usta3</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/registration">Qeydiyyat</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/login">Daxil ol</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <div class="container-fluid">
      <div class="d-flex row mt-5 justify-content-center text-center">
        <!-- ---- -->
        <section class="col-md-12 col-sm-12 col-12">
          <div class="row">
            <div class="col-md-4 col-sm-6 col-12 mb-4">
              <div th:each="left:${listLeft}" class="card">
                <img
                  class="card-img-top img-responsive rounded-circle text-center w-50 h-50 mt-2 mx-auto"
                  th:src="@{'data:image/jpeg;base64,'+${left.avatar}}"
                  alt="Card image"
                />
                <div class="card-body">
                  <h5 class="card-title" th:text="${left.name}+' '+${left.surname}"></h5>
                  <div class="card-text">
                    <div th:text="${left.category}"></div>
                    <p th:text="${left.phoneNumber}"></p>
                  </div>
                  <a th:href="@{'/details/'+${left.id}}" class="btn btn-primary">Ətraflı</a>
                </div>
              </div>
            </div>

            <div class="col-md-4 col-sm-6 col-12 mb-4">
              <div th:each="middle:${listMiddle}" class="card">
                <img
                  class="card-img-top img-responsive rounded-circle text-center w-50 h-50 mt-2 mx-auto"
                  th:src="@{'data:image/jpeg;base64,'+${middle.avatar}}"
                  alt="Card image"
                />
                <div class="card-body">
                  <h5 class="card-title" th:text="${middle.name}+' '+${middle.surname}"></h5>
                  <div class="card-text">
                    <div th:text="${middle.category}"></div>
                    <p th:text="${middle.phoneNumber}"></p>
                  </div>
                  <a th:href="@{'/details/'+${middle.id}}" class="btn btn-primary">Ətraflı</a>
                </div>
              </div>
            </div>

            <div class="col-md-4 col-sm-6 col-12 mb-4">
              <div class="card" th:each="right:${listRight}">
                <img
                  class="card-img-top img-responsive rounded-circle text-center w-50 h-50 mt-2 mx-auto"
                  th:src="@{'data:image/jpeg;base64,'+${right.avatar}}"
                  alt="Card image"
                />
                <div class="card-body">
                  <h5 class="card-title" th:text="${right.name}+' '+${right.surname}"></h5>
                  <div class="card-text">
                    <div th:text="${right.category}"></div>
                    <p th:text="${right.phoneNumber}"></p>
                  </div>
                  <a th:href="@{'/details/'+${right.id}}" class="btn btn-primary">Ətraflı</a>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- ---- -->
      </div>
    </div>
  </body>

  <script>
    const navbarToggler = document.querySelector(".navbar-toggler-icon");
    const navLinks = document.querySelectorAll(".nav-link");
    const dropdownToggler = document.querySelector(".dropdown-toggle");

    navbarToggler.addEventListener("click", function () {
      document.querySelector(".navbar-collapse").classList.toggle("show");
    });
    navLinks.forEach(function (navLink) {
      navLink.addEventListener("click", function () {
        document.querySelector(".nav-link.active").classList.remove("active");
        this.classList.add("active");
      });
    });

    dropdownToggler.addEventListener("click", function () {
      document.querySelector(".dropdown-menu").classList.toggle("show");
    });
  </script>
</html>
